<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–æ</title>
    <link rel="stylesheet" href="/static/checkout.css">
</head>
<body>
    {% include 'include/navbar.html' %}

    <div class="success-page">
        <div class="success-container">
            <div class="success-icon">‚úì</div>
            <h1>–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è —É—Å–ø—ñ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–æ!</h1>
            <p class="order-number">–ù–æ–º–µ—Ä –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è: <strong>#{{ order.id }}</strong></p>

            <div class="order-details">
                <h2>–î–µ—Ç–∞–ª—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>

                <div class="order-info">
                    <div class="info-row">
                        <span>–î–∞—Ç–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:</span>
                        <span>{{ order.created_at.strftime('%d.%m.%Y %H:%M') }}</span>
                    </div>
                    <div class="info-row">
                        <span>–°–ø–æ—Å—ñ–± –æ–ø–ª–∞—Ç–∏:</span>
                        <span>
                            {% if order.payment_method == 'card' %}
                                üí≥ –ë–∞–Ω–∫—ñ–≤—Å—å–∫–∞ –∫–∞—Ä—Ç–∫–∞
                            {% elif order.payment_method == 'cash' %}
                                üíµ –ì–æ—Ç—ñ–≤–∫–æ—é –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ
                            {% elif order.payment_method == 'paypal' %}
                                üÖøÔ∏è PayPal
                            {% else %}
                                {{ order.payment_method }}
                            {% endif %}
                        </span>
                    </div>
                    <div class="info-row">
                        <span>–°—Ç–∞—Ç—É—Å –æ–ø–ª–∞—Ç–∏:</span>
                        <span class="status-{{ order.status }}{% if order.payment_method == 'cash' and order.status == 'pending' %} status-shipping{% endif %}">
                            {% if order.status == 'pending' %}
                                {% if order.payment_method == 'cash' %}
                                    üöö –ü–æ—Å–∏–ª–∫–∞ –≤ –¥–æ—Ä–æ–∑—ñ (–æ–ø–ª–∞—Ç–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ)
                                {% else %}
                                    ‚è≥ –û—á—ñ–∫—É—î –æ–ø–ª–∞—Ç–∏
                                {% endif %}
                            {% elif order.status == 'paid' %}
                                ‚úì –û–ø–ª–∞—á–µ–Ω–æ
                            {% elif order.status == 'failed' %}
                                ‚úó –ü–æ–º–∏–ª–∫–∞ –æ–ø–ª–∞—Ç–∏
                            {% else %}
                                {{ order.status }}
                            {% endif %}
                        </span>
                    </div>
                </div>

                <h3>–¢–æ–≤–∞—Ä–∏ –≤ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—ñ</h3>
                <div class="order-items">
                    {% for item in order_items %}
                        <div class="order-item">
                            <img src="{{ item.cover_path }}" alt="{{ item.title }}">
                            <div class="order-item-info">
                                <h4>{{ item.title }}</h4>
                                <p>{{ item.author_name }}</p>
                                <p>–ö—ñ–ª—å–∫—ñ—Å—Ç—å: {{ item.quantity }} √ó {{ item.price }} –≥—Ä–Ω</p>
                            </div>
                            <div class="order-item-total">
                                {{ item.total_price }} –≥—Ä–Ω
                            </div>
                        </div>
                    {% endfor %}
                </div>

                <div class="order-total">
                    <span>–ó–∞–≥–∞–ª—å–Ω–∞ —Å—É–º–∞:</span>
                    <span>{{ order.amount }} –≥—Ä–Ω</span>
                </div>
            </div>

            <div class="success-actions">
                <a href="/books" class="btn-primary">–ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –ø–æ–∫—É–ø–∫–∏</a>
            </div>
        </div>
    </div>
</body>
</html>
